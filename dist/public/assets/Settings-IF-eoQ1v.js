import{c as A,b as k,r as h,j as e,C as n,e as o,f as d,a as m,i as F,aI as D,B as y,U as E,I as v,a_ as b,m as U,aN as H,ai as M}from"./index-Cj9AK73v.js";import{D as B,j as G,a as I,b as O,c as R}from"./dialog-CYYKERfK.js";import{L as i}from"./label-Dfr3Tkin.js";import{T as z}from"./textarea-srwHGf3m.js";import{S as _}from"./sidebar-C6JNkD9n.js";import"./api-DJ2ai4R4.js";import"./chart-column-BI2syFgd.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=A("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);function V(){var p,j,u;const{toast:a}=k(),[t,w]=h.useState("eagle-logo"),[C,x]=h.useState(!1),[L,g]=h.useState(!1),r=[{id:"eagle-logo",name:"SMCHS Eagle Logo",url:"/attached_assets/eagle logo_1753823719258.png",description:"Official Santa Margarita Catholic High School eagle logo with royal blue and gold colors",isActive:!0,uploadedAt:"2025-01-31"},{id:"alternative-logo",name:"Alternative Logo",url:"/attached_assets/logo_1753823631530.png",description:"Alternative school logo design",isActive:!1,uploadedAt:"2025-01-31"}],T=async s=>{try{if((await fetch("/api/admin/settings/logo",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({selectedLogo:s})})).ok)w(s),a({title:"Logo Updated",description:"The platform logo has been successfully updated."});else throw new Error("Failed to update logo")}catch{a({title:"Error",description:"Failed to update logo. Please try again.",variant:"destructive"})}},P=async s=>{var f;const l=(f=s.target.files)==null?void 0:f[0];if(l){if(!l.type.startsWith("image/")){a({title:"Invalid File",description:"Please select an image file (PNG, JPG, SVG).",variant:"destructive"});return}if(l.size>5*1024*1024){a({title:"File Too Large",description:"Please select an image smaller than 5MB.",variant:"destructive"});return}x(!0);try{const c=new FormData;c.append("logo",l),c.append("uploadType","logo");const N=await fetch("/api/admin/upload/logo",{method:"POST",body:c});if(N.ok){const J=await N.json();a({title:"Logo Uploaded",description:"New logo has been uploaded successfully."}),g(!1)}else throw new Error("Upload failed")}catch{a({title:"Upload Error",description:"Failed to upload logo. Please try again.",variant:"destructive"})}finally{x(!1)}}};return e.jsxs(n,{children:[e.jsx(o,{children:e.jsxs(d,{className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-5 w-5"}),"Logo Management"]})}),e.jsxs(m,{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 border rounded-lg bg-gray-50",children:[e.jsx(i,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Current Logo"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 bg-royal-blue rounded-lg flex items-center justify-center p-2",children:e.jsx("img",{src:(p=r.find(s=>s.id===t))==null?void 0:p.url,alt:"Current Logo",className:"w-full h-full object-contain"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:(j=r.find(s=>s.id===t))==null?void 0:j.name}),e.jsx("p",{className:"text-sm text-gray-600",children:(u=r.find(s=>s.id===t))==null?void 0:u.description})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(i,{className:"text-sm font-medium",children:"Available Logos"}),e.jsx("div",{className:"grid gap-3",children:r.map(s=>e.jsx("div",{className:`p-3 border rounded-lg cursor-pointer transition-all hover:shadow-md ${t===s.id?"border-royal-blue bg-royal-blue/5":"border-gray-200 hover:border-gray-300"}`,onClick:()=>T(s.id),children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center p-1",children:e.jsx("img",{src:s.url,alt:s.name,className:"w-full h-full object-contain"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"font-medium",children:s.name}),t===s.id&&e.jsxs(F,{variant:"default",className:"bg-royal-blue",children:[e.jsx(D,{className:"h-3 w-3 mr-1"}),"Active"]})]}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-1",children:s.description})]})]})},s.id))})]}),e.jsxs(B,{open:L,onOpenChange:g,children:[e.jsx(G,{asChild:!0,children:e.jsxs(y,{variant:"outline",className:"w-full",children:[e.jsx(E,{className:"h-4 w-4 mr-2"}),"Upload New Logo"]})}),e.jsxs(I,{children:[e.jsx(O,{children:e.jsx(R,{children:"Upload New Logo"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"logo-upload",children:"Logo File"}),e.jsx(v,{id:"logo-upload",type:"file",accept:"image/*",onChange:P,disabled:C,className:"mt-1"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Recommended: PNG or SVG format, max 5MB. Ideal size: 200x200px"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"logo-name",children:"Logo Name"}),e.jsx(v,{id:"logo-name",placeholder:"e.g., Custom SMCHS Logo",className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"logo-description",children:"Description (Optional)"}),e.jsx(z,{id:"logo-description",placeholder:"Brief description of this logo...",className:"mt-1"})]}),e.jsx("div",{className:"bg-blue-50 p-3 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-700",children:[e.jsx("strong",{children:"Logo Guidelines:"})," Ensure your logo maintains the SMCHS brand identity with appropriate colors (Royal Blue #1A4784, Vegas Gold #B4A365) and represents the school's professional image."]})})]})]})]}),e.jsx("div",{className:"pt-3 border-t",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Logo Settings"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Configure how logos appear across the platform"})]}),e.jsx(y,{variant:"ghost",size:"sm",children:e.jsx(b,{className:"h-4 w-4"})})]})})]})]})}function Z(){return e.jsxs("div",{className:"flex h-screen bg-gray-50",children:[e.jsx(_,{}),e.jsxs("main",{className:"flex-1 overflow-y-auto",children:[e.jsx(U,{title:"Platform Settings",breadcrumb:"Settings"}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h1",{className:"text-2xl font-bold text-anthracite font-trajon flex items-center gap-2",children:[e.jsx(b,{className:"h-6 w-6"}),"Platform Settings"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Configure platform appearance, branding, and system preferences"})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsx(V,{})}),e.jsxs(n,{children:[e.jsx(o,{children:e.jsxs(d,{className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-5 w-5"}),"Theme Settings"]})}),e.jsxs(m,{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 border rounded-lg bg-gray-50",children:[e.jsx("h4",{className:"font-medium mb-2",children:"SMCHS Color Scheme"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-royal-blue rounded border"}),e.jsx("span",{className:"text-sm",children:"Royal Blue"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-vegas-gold rounded border"}),e.jsx("span",{className:"text-sm",children:"Vegas Gold"})]})]}),e.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"Official Santa Margarita Catholic High School brand colors"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium",children:"Typography"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Current: Inter (Google Fonts) with Trajon Pro headings"})]})]})]}),e.jsxs(n,{children:[e.jsx(o,{children:e.jsxs(d,{className:"flex items-center gap-2",children:[e.jsx(H,{className:"h-5 w-5"}),"Site Configuration"]})}),e.jsxs(m,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Site Information"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Title:"})," SMCHS Innovation Hub"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Description:"})," Educational Excellence Platform"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Environment:"})," Production"]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Navigation"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Public pages: Home, Resources, EdTech Tools, News & Updates"})]})]})]}),e.jsxs(n,{children:[e.jsx(o,{children:e.jsxs(d,{className:"flex items-center gap-2",children:[e.jsx(M,{className:"h-5 w-5"}),"Security & Access"]})}),e.jsxs(m,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Authentication"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Replit Auth with role-based access control"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"User Roles"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Super Admin:"})," Full platform access"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Content Admin:"})," Content management access"]})]})]}),e.jsx("div",{className:"bg-blue-50 p-3 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-700",children:[e.jsx("strong",{children:"Security Note:"})," All admin actions are logged and tracked for audit purposes. Session management is handled securely with PostgreSQL."]})})]})]})]})]})]})]})}export{Z as default};
