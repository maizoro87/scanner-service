import{r as i,b as de,j as e,C as z,e as B,f as q,a as V,I as $,K as Q,M as H,O as W,Q as J,V as x,U as Ie,h as ge,B as p,X as xe,P as te,y as X,J as se,H as Ge,Z as Ke,_ as je,$ as Ue,a0 as Qe,a1 as R,a2 as ve,a3 as He,u as We,A as Je,m as Xe,z as Ye,l as he,a4 as ue,E as Ze,k as es,i as M,a5 as ss,g as ts}from"./index-Cj9AK73v.js";import{D as as,a as ls,b as is,c as ns,e as fe,T as rs,O as os,W as cs,C as ds,f as xs,g as hs,h as ye,R as us,P as ms}from"./dialog-CYYKERfK.js";import{L as v}from"./label-Dfr3Tkin.js";import{T as ps}from"./textarea-srwHGf3m.js";import{a as me}from"./api-DJ2ai4R4.js";function gs({resource:t,onSubmit:a,onCancel:l}){const[n,r]=i.useState((t==null?void 0:t.title)||""),[f,y]=i.useState((t==null?void 0:t.description)||""),[g,h]=i.useState((t==null?void 0:t.resourceType)||"document"),[d,b]=i.useState((t==null?void 0:t.subject)||""),[w,Y]=i.useState((t==null?void 0:t.gradeLevel)||""),[F,T]=i.useState((t==null?void 0:t.topic)||""),[A,N]=i.useState((t==null?void 0:t.files)||[]),[S,E]=i.useState((t==null?void 0:t.links)||[]),{toast:I}=de(),Z=async c=>{const o=c.target.files;if(o)for(let u=0;u<o.length;u++){const j=o[u];try{const L=new FormData;L.append("file",j),L.append("folder","resources");const K=await fetch("/api/admin/upload",{method:"POST",body:L,credentials:"include"});if(!K.ok)throw new Error("Upload failed");const ee=await K.json();N([...A,{fileName:j.name,fileUrl:ee.downloadURL,fileType:j.type,fileSize:j.size}]),I({title:"Success",description:`${j.name} uploaded successfully`})}catch{I({title:"Error",description:`Failed to upload ${j.name}`,variant:"destructive"})}}},D=()=>{E([...S,{title:"",url:"",type:"website"}])},k=(c,o,u)=>{const j=[...S];j[c][o]=u,E(j)},G=c=>{E(S.filter((o,u)=>u!==c))},O=c=>{N(A.filter((o,u)=>u!==c))},P=async c=>{c.preventDefault(),a({title:n,description:f,resourceType:g,subject:d,gradeLevel:w,topic:F,files:A,links:S})};return e.jsxs("form",{onSubmit:P,className:"space-y-6",children:[e.jsxs(z,{children:[e.jsx(B,{children:e.jsx(q,{children:"Basic Information"})}),e.jsxs(V,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(v,{htmlFor:"title",children:"Title *"}),e.jsx($,{id:"title",value:n,onChange:c=>r(c.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"description",children:"Description"}),e.jsx(ps,{id:"description",value:f,onChange:c=>y(c.target.value),placeholder:"Enter a detailed description...",rows:4})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(v,{htmlFor:"resourceType",children:"Resource Type"}),e.jsxs(Q,{value:g,onValueChange:h,children:[e.jsx(H,{children:e.jsx(W,{})}),e.jsxs(J,{children:[e.jsx(x,{value:"document",children:"Document"}),e.jsx(x,{value:"template",children:"Template"}),e.jsx(x,{value:"lesson_plan",children:"Lesson Plan"}),e.jsx(x,{value:"activity",children:"Activity"}),e.jsx(x,{value:"assessment",children:"Assessment"})]})]})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"subject",children:"Subject"}),e.jsxs(Q,{value:d,onValueChange:b,children:[e.jsx(H,{children:e.jsx(W,{placeholder:"Select subject"})}),e.jsxs(J,{children:[e.jsx(x,{value:"math",children:"Mathematics"}),e.jsx(x,{value:"science",children:"Science"}),e.jsx(x,{value:"ela",children:"English Language Arts"}),e.jsx(x,{value:"social_studies",children:"Social Studies"}),e.jsx(x,{value:"world_languages",children:"World Languages"}),e.jsx(x,{value:"arts",children:"Arts"}),e.jsx(x,{value:"pe",children:"Physical Education"}),e.jsx(x,{value:"technology",children:"Technology"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(v,{htmlFor:"gradeLevel",children:"Grade Level"}),e.jsxs(Q,{value:w,onValueChange:Y,children:[e.jsx(H,{children:e.jsx(W,{placeholder:"Select grade"})}),e.jsxs(J,{children:[e.jsx(x,{value:"K-2",children:"K-2"}),e.jsx(x,{value:"3-5",children:"3-5"}),e.jsx(x,{value:"6-8",children:"6-8"}),e.jsx(x,{value:"9-12",children:"9-12"}),e.jsx(x,{value:"all",children:"All Grades"})]})]})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"topic",children:"Topic"}),e.jsx($,{id:"topic",value:F,onChange:c=>T(c.target.value),placeholder:"e.g., Fractions, Cell Biology"})]})]})]})]}),e.jsxs(z,{children:[e.jsx(B,{children:e.jsx(q,{children:"Files"})}),e.jsx(V,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(v,{htmlFor:"file-upload",className:"cursor-pointer",children:e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-gray-400 transition-colors",children:[e.jsx(Ie,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Click to upload files or drag and drop"}),e.jsx("p",{className:"text-xs text-gray-500",children:"PDF, DOC, DOCX, PPT, PPTX up to 50MB each"})]})}),e.jsx("input",{id:"file-upload",type:"file",multiple:!0,className:"hidden",onChange:Z,accept:".pdf,.doc,.docx,.ppt,.pptx,.xls,.xlsx"})]}),A.length>0&&e.jsx("div",{className:"space-y-2",children:A.map((c,o)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ge,{className:"h-5 w-5 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:c.fileName}),e.jsxs("p",{className:"text-xs text-gray-500",children:[(c.fileSize/1024/1024).toFixed(2)," MB"]})]})]}),e.jsx(p,{type:"button",variant:"ghost",size:"sm",onClick:()=>O(o),children:e.jsx(xe,{className:"h-4 w-4"})})]},o))})]})})]}),e.jsxs(z,{children:[e.jsx(B,{children:e.jsx(q,{children:"External Links"})}),e.jsx(V,{children:e.jsxs("div",{className:"space-y-4",children:[S.map((c,o)=>e.jsxs("div",{className:"space-y-3 p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs(v,{children:["Link ",o+1]}),e.jsx(p,{type:"button",variant:"ghost",size:"sm",onClick:()=>G(o),children:e.jsx(xe,{className:"h-4 w-4"})})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:`link-title-${o}`,children:"Title"}),e.jsx($,{id:`link-title-${o}`,value:c.title,onChange:u=>k(o,"title",u.target.value),placeholder:"Link title"})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:`link-url-${o}`,children:"URL"}),e.jsx($,{id:`link-url-${o}`,type:"url",value:c.url,onChange:u=>k(o,"url",u.target.value),placeholder:"https://..."})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:`link-type-${o}`,children:"Type"}),e.jsxs(Q,{value:c.type,onValueChange:u=>k(o,"type",u),children:[e.jsx(H,{children:e.jsx(W,{})}),e.jsxs(J,{children:[e.jsx(x,{value:"video",children:"Video"}),e.jsx(x,{value:"website",children:"Website"}),e.jsx(x,{value:"document",children:"Document"})]})]})]})]},o)),e.jsxs(p,{type:"button",variant:"outline",onClick:D,className:"w-full",children:[e.jsx(te,{className:"h-4 w-4 mr-2"}),"Add Link"]})]})})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx(p,{type:"button",variant:"outline",onClick:l,children:"Cancel"}),e.jsx(p,{type:"submit",children:t?"Update Resource":"Create Resource"})]})]})}function js({open:t,onOpenChange:a,resource:l,onSuccess:n}){const{toast:r}=de(),f=X({mutationFn:async d=>{const b=new FormData;b.append("resourceData",JSON.stringify(d));const w=await fetch("/api/resources",{method:"POST",body:b,credentials:"include"});if(!w.ok)throw new Error("Failed to create resource");return w.json()},onSuccess:()=>{se.invalidateQueries({queryKey:["/api/resources"]}),se.invalidateQueries({queryKey:["/api/dashboard/stats"]}),r({title:"Success",description:"Resource created successfully"}),a(!1),n==null||n()},onError:d=>{r({title:"Error",description:d.message||"Failed to create resource",variant:"destructive"})}}),y=X({mutationFn:async d=>Ge(`/api/resources/${l.id}`,"PUT"),onSuccess:()=>{se.invalidateQueries({queryKey:["/api/resources"]}),r({title:"Success",description:"Resource updated successfully"}),a(!1)},onError:d=>{r({title:"Error",description:d.message||"Failed to update resource",variant:"destructive"})}}),g=d=>{l?y.mutate(d):f.mutate(d)},h=()=>{a(!1)};return e.jsx(as,{open:t,onOpenChange:a,children:e.jsxs(ls,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx(is,{children:e.jsx(ns,{children:l?"Edit Resource":"Create New Resource"})}),e.jsx(gs,{resource:l,onSubmit:g,onCancel:h})]})})}var Ne="AlertDialog",[vs,Os]=Ke(Ne,[fe]),C=fe(),De=t=>{const{__scopeAlertDialog:a,...l}=t,n=C(a);return e.jsx(us,{...n,...l,modal:!0})};De.displayName=Ne;var fs="AlertDialogTrigger",ys=i.forwardRef((t,a)=>{const{__scopeAlertDialog:l,...n}=t,r=C(l);return e.jsx(rs,{...r,...n,ref:a})});ys.displayName=fs;var Ns="AlertDialogPortal",be=t=>{const{__scopeAlertDialog:a,...l}=t,n=C(a);return e.jsx(ms,{...n,...l})};be.displayName=Ns;var Ds="AlertDialogOverlay",we=i.forwardRef((t,a)=>{const{__scopeAlertDialog:l,...n}=t,r=C(l);return e.jsx(os,{...r,...n,ref:a})});we.displayName=Ds;var _="AlertDialogContent",[bs,ws]=vs(_),Cs=Qe("AlertDialogContent"),Ce=i.forwardRef((t,a)=>{const{__scopeAlertDialog:l,children:n,...r}=t,f=C(l),y=i.useRef(null),g=je(a,y),h=i.useRef(null);return e.jsx(cs,{contentName:_,titleName:Ae,docsSlug:"alert-dialog",children:e.jsx(bs,{scope:l,cancelRef:h,children:e.jsxs(ds,{role:"alertdialog",...f,...r,ref:g,onOpenAutoFocus:Ue(r.onOpenAutoFocus,d=>{var b;d.preventDefault(),(b=h.current)==null||b.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[e.jsx(Cs,{children:n}),e.jsx(Ss,{contentRef:y})]})})})});Ce.displayName=_;var Ae="AlertDialogTitle",Se=i.forwardRef((t,a)=>{const{__scopeAlertDialog:l,...n}=t,r=C(l);return e.jsx(xs,{...r,...n,ref:a})});Se.displayName=Ae;var Re="AlertDialogDescription",Te=i.forwardRef((t,a)=>{const{__scopeAlertDialog:l,...n}=t,r=C(l);return e.jsx(hs,{...r,...n,ref:a})});Te.displayName=Re;var As="AlertDialogAction",Ee=i.forwardRef((t,a)=>{const{__scopeAlertDialog:l,...n}=t,r=C(l);return e.jsx(ye,{...r,...n,ref:a})});Ee.displayName=As;var Fe="AlertDialogCancel",ke=i.forwardRef((t,a)=>{const{__scopeAlertDialog:l,...n}=t,{cancelRef:r}=ws(Fe,l),f=C(l),y=je(a,r);return e.jsx(ye,{...f,...n,ref:y})});ke.displayName=Fe;var Ss=({contentRef:t})=>{const a=`\`${_}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${_}\` by passing a \`${Re}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${_}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return i.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(a)},[a,t]),null},Rs=De,Ts=be,Pe=we,Le=Ce,_e=Ee,Oe=ke,Me=Se,$e=Te;const pe=Rs,Es=Ts,ze=i.forwardRef(({className:t,...a},l)=>e.jsx(Pe,{className:R("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...a,ref:l}));ze.displayName=Pe.displayName;const ae=i.forwardRef(({className:t,...a},l)=>e.jsxs(Es,{children:[e.jsx(ze,{}),e.jsx(Le,{ref:l,className:R("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...a})]}));ae.displayName=Le.displayName;const le=({className:t,...a})=>e.jsx("div",{className:R("flex flex-col space-y-2 text-center sm:text-left",t),...a});le.displayName="AlertDialogHeader";const ie=({className:t,...a})=>e.jsx("div",{className:R("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a});ie.displayName="AlertDialogFooter";const ne=i.forwardRef(({className:t,...a},l)=>e.jsx(Me,{ref:l,className:R("text-lg font-semibold",t),...a}));ne.displayName=Me.displayName;const re=i.forwardRef(({className:t,...a},l)=>e.jsx($e,{ref:l,className:R("text-sm text-muted-foreground",t),...a}));re.displayName=$e.displayName;const oe=i.forwardRef(({className:t,...a},l)=>e.jsx(_e,{ref:l,className:R(ve(),t),...a}));oe.displayName=_e.displayName;const ce=i.forwardRef(({className:t,...a},l)=>e.jsx(Oe,{ref:l,className:R(ve({variant:"outline"}),"mt-2 sm:mt-0",t),...a}));ce.displayName=Oe.displayName;function Ms(){const[t,a]=i.useState(""),[l,n]=i.useState(""),[r,f]=i.useState(""),[y,g]=i.useState(!1),[h,d]=i.useState([]),[b,w]=i.useState(!1),[Y,F]=i.useState(!1),[T,A]=i.useState(null),{toast:N}=de(),S=He(),{data:E=[],isLoading:I,refetch:Z}=We({queryKey:["/api/resources"],enabled:!0}),D=E.filter(s=>(s.title.toLowerCase().includes(t.toLowerCase())||s.description.toLowerCase().includes(t.toLowerCase()))&&(l===""||s.subject===l)&&(r===""||s.gradeLevel===r)),k=Array.from(new Set(E.map(s=>s.subject).filter(Boolean))),G=Array.from(new Set(E.map(s=>s.gradeLevel).filter(Boolean))),O=X({mutationFn:async s=>await me(`/resources/${s}`,{method:"DELETE"}),onSuccess:()=>{S.invalidateQueries({queryKey:["/api/resources"]}),N({title:"Success",description:"Resource deleted successfully"}),w(!1),A(null)},onError:s=>{N({title:"Error",description:s.message||"Failed to delete resource",variant:"destructive"})}}),P=X({mutationFn:async s=>await me("/resources/bulk-delete",{method:"POST",body:JSON.stringify({resourceIds:s})}),onSuccess:s=>{S.invalidateQueries({queryKey:["/api/resources"]}),N({title:"Success",description:s.message||`Deleted ${h.length} resources`}),F(!1),d([])},onError:s=>{N({title:"Error",description:s.message||"Failed to delete resources",variant:"destructive"})}}),c=s=>{N({title:"Edit Resource",description:"Edit functionality will be implemented next",variant:"default"})},o=s=>{A(s),w(!0)},u=()=>{T&&O.mutate(T.id)},j=()=>{h.length>0&&F(!0)},L=()=>{P.mutate(h)},K=s=>{d(m=>m.includes(s)?m.filter(U=>U!==s):[...m,s])},ee=()=>{h.length===D.length?d([]):d(D.map(s=>s.id))},Be=s=>{N({title:"View Resource",description:"View functionality will be implemented next",variant:"default"})},qe=s=>{N({title:"Download Resource",description:"File download will be implemented with Firebase Storage",variant:"default"})},Ve=s=>{if(!s)return"0 B";const m=["B","KB","MB","GB"],U=Math.floor(Math.log(s)/Math.log(1024));return Math.round(s/Math.pow(1024,U)*100)/100+" "+m[U]};return e.jsxs("div",{className:"flex h-screen bg-gray-50",children:[e.jsx(Je,{}),e.jsxs("main",{className:"flex-1 overflow-y-auto",children:[e.jsx(Xe,{title:"Resources",breadcrumb:"Content Management / Resources"}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ye,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),e.jsx($,{placeholder:"Search resources...",value:t,onChange:s=>a(s.target.value),className:"pl-10 w-80"})]}),k.length>0&&e.jsxs("select",{value:l,onChange:s=>n(s.target.value),className:"px-3 py-2 border border-gray-200 rounded-md text-sm",children:[e.jsx("option",{value:"",children:"All Subjects"}),k.map(s=>e.jsx("option",{value:s,children:s},s))]}),G.length>0&&e.jsxs("select",{value:r,onChange:s=>f(s.target.value),className:"px-3 py-2 border border-gray-200 rounded-md text-sm",children:[e.jsx("option",{value:"",children:"All Grades"}),G.map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[h.length>0&&e.jsxs(p,{variant:"destructive",onClick:j,disabled:P.isPending,children:[e.jsx(he,{className:"w-4 h-4 mr-2"}),"Delete Selected (",h.length,")"]}),e.jsxs(p,{onClick:()=>g(!0),className:"bg-primary text-white hover:bg-blue-700",children:[e.jsx(te,{className:"w-4 h-4 mr-2"}),"New Resource"]})]})]}),e.jsxs(z,{children:[e.jsxs(B,{className:"flex flex-row items-center justify-between",children:[e.jsxs(q,{children:["All Resources (",D.length,")"]}),D.length>0&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ue,{checked:h.length===D.length,onCheckedChange:ee,className:"mr-2"}),e.jsxs("span",{className:"text-sm text-gray-600",children:["Select All (",h.length,"/",D.length,")"]})]})]}),e.jsx(V,{children:I?e.jsx("div",{className:"text-center py-12",children:e.jsx("div",{className:"text-lg",children:"Loading resources..."})}):D.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsxs("div",{className:"text-gray-500 mb-4",children:[e.jsx(ge,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("p",{className:"text-lg",children:"No resources found"}),e.jsx("p",{className:"text-sm",children:t||l||r?"Try adjusting your search filters":"Create your first resource to get started"})]}),!t&&!l&&!r&&e.jsxs(p,{onClick:()=>g(!0),className:"bg-primary text-white hover:bg-blue-700",children:[e.jsx(te,{className:"w-4 h-4 mr-2"}),"Create First Resource"]})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:D.map(s=>e.jsxs(z,{className:"hover:shadow-md transition-shadow",children:[e.jsx(B,{className:"pb-3",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(ue,{checked:h.includes(s.id),onCheckedChange:()=>K(s.id),className:"mt-1"}),e.jsx(q,{className:"text-lg line-clamp-2",children:s.title})]}),e.jsxs("div",{className:"flex space-x-1 ml-2",children:[e.jsx(p,{variant:"ghost",size:"sm",onClick:()=>Be(),className:"text-gray-400 hover:text-gray-600",children:e.jsx(Ze,{size:16})}),e.jsx(p,{variant:"ghost",size:"sm",onClick:()=>c(),className:"text-primary hover:text-blue-700",children:e.jsx(es,{size:16})}),e.jsx(p,{variant:"ghost",size:"sm",onClick:()=>o(s),className:"text-red-400 hover:text-red-600",children:e.jsx(he,{size:16})})]})]})}),e.jsxs(V,{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-3",children:s.description}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.subject&&e.jsx(M,{variant:"secondary",className:"text-xs",children:s.subject}),s.gradeLevel&&e.jsxs(M,{variant:"outline",className:"text-xs",children:["Grade ",s.gradeLevel]}),s.topic&&e.jsx(M,{variant:"outline",className:"text-xs",children:s.topic})]}),s.tags&&s.tags.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.tags.slice(0,3).map(m=>e.jsx(M,{style:{backgroundColor:m.color},className:"text-xs text-white",children:m.name},m.id)),s.tags.length>3&&e.jsxs(M,{variant:"outline",className:"text-xs",children:["+",s.tags.length-3," more"]})]})]}),s.files&&s.files.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"text-xs text-gray-500 mb-1",children:["Files (",s.files.length,")"]}),e.jsxs("div",{className:"space-y-1",children:[s.files.slice(0,2).map(m=>e.jsxs("div",{className:"flex items-center justify-between text-xs bg-gray-50 p-2 rounded",children:[e.jsx("span",{className:"truncate",children:m.fileName}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-gray-400",children:Ve(m.fileSize)}),e.jsx(p,{variant:"ghost",size:"sm",onClick:()=>qe(),className:"h-6 w-6 p-0",children:e.jsx(ss,{size:12})})]})]},m.id)),s.files.length>2&&e.jsxs("div",{className:"text-xs text-gray-500 text-center",children:["+",s.files.length-2," more files"]})]})]}),e.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[e.jsxs("span",{children:[s.downloadCount," downloads"]}),e.jsx("span",{children:ts(new Date(s.createdAt),{addSuffix:!0})})]})]})]},s.id))})})]})]})]}),e.jsx(js,{open:y,onOpenChange:g,onSuccess:()=>{g(!1),Z()}}),e.jsx(pe,{open:b,onOpenChange:w,children:e.jsxs(ae,{children:[e.jsxs(le,{children:[e.jsx(ne,{children:"Delete Resource"}),e.jsxs(re,{children:['Are you sure you want to delete "',T==null?void 0:T.title,'"? This action cannot be undone.']})]}),e.jsxs(ie,{children:[e.jsx(ce,{children:"Cancel"}),e.jsx(oe,{onClick:u,className:"bg-red-600 hover:bg-red-700",disabled:O.isPending,children:O.isPending?"Deleting...":"Delete"})]})]})}),e.jsx(pe,{open:Y,onOpenChange:F,children:e.jsxs(ae,{children:[e.jsxs(le,{children:[e.jsx(ne,{children:"Delete Multiple Resources"}),e.jsxs(re,{children:["Are you sure you want to delete ",h.length," resource",h.length>1?"s":"","? This action cannot be undone."]})]}),e.jsxs(ie,{children:[e.jsx(ce,{children:"Cancel"}),e.jsx(oe,{onClick:L,className:"bg-red-600 hover:bg-red-700",disabled:P.isPending,children:P.isPending?"Deleting...":`Delete ${h.length} Resource${h.length>1?"s":""}`})]})]})})]})}export{Ms as default};
