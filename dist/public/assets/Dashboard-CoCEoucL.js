import{c as f,u as y,N as v,F as C,W as k,E as A,j as e,C as x,a as h,S as i,T,b as N,d as $,e as m,f as u,P as S,U as P,Y as R,B as d,g as w,r as D,h as z,i as M,k as U,l as I,A as E,m as F}from"./index-Cj9AK73v.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=f("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=f("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=f("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);function q(){const{data:a,isLoading:n}=y({queryKey:["/api/dashboard/stats"]}),c=[{title:"Published Posts",value:(a==null?void 0:a.totalPosts)||0,change:0,icon:v,bgColor:"bg-royal-blue/10",iconColor:"text-royal-blue",description:"News & announcements"},{title:"Educational Resources",value:(a==null?void 0:a.totalResources)||0,change:0,icon:C,bgColor:"bg-vegas-gold/10",iconColor:"text-vegas-gold-dark",description:"Learning materials"},{title:"EdTech Tools",value:(a==null?void 0:a.totalTools)||0,change:0,icon:k,bgColor:"bg-royal-blue/10",iconColor:"text-royal-blue",description:"Recommended platforms"},{title:"Monthly Views",value:(a==null?void 0:a.monthlyViews)||0,change:0,icon:A,bgColor:"bg-vegas-gold/10",iconColor:"text-vegas-gold-dark",description:"Platform engagement"}],o=t=>t>=1e3?`${(t/1e3).toFixed(1)}k`:t.toString(),l=t=>t>0?T:t<0?Y:V,r=t=>t>0?"text-green-600":t<0?"text-red-600":"text-yellow-600";return n?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[1,2,3,4].map(t=>e.jsx(x,{children:e.jsx(h,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{className:"h-4 w-20"}),e.jsx(i,{className:"h-8 w-16"}),e.jsx(i,{className:"h-4 w-24"})]}),e.jsx(i,{className:"w-12 h-12 rounded-lg"})]})})},t))}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:c.map((t,g)=>{const j=l(t.change);return e.jsx(x,{className:"shadow-lg border-0 hover:shadow-xl transition-all group",children:e.jsx(h,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-light-gray mb-1",children:t.title}),e.jsx("p",{className:"text-3xl font-bold text-anthracite font-trajon",children:o(t.value)}),e.jsx("p",{className:"text-xs text-light-gray mt-2",children:t.description}),t.change!==0&&e.jsxs("p",{className:`text-xs mt-1 flex items-center ${r(t.change)}`,children:[e.jsx(j,{className:"w-3 h-3 mr-1"}),Math.abs(t.change),"% from last month"]})]}),e.jsx("div",{className:`${t.bgColor} w-14 h-14 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform`,children:e.jsx(t.icon,{className:`${t.iconColor}`,size:28})})]})})},g)})})}function B(){const{toast:a}=N(),[,n]=$(),c=l=>{l==="New Post"?n("/admin/posts"):l==="Upload Resource"?n("/admin/resources"):l==="Add Tool"?n("/admin/tools"):l==="Import Feed"?n("/admin/rss-feeds"):l==="Add YouTube Channel"?n("/admin/youtube-channels"):a({title:"Feature Coming Soon",description:`${l} functionality will be implemented soon`,variant:"default"})},o=[{title:"Create Post",description:"Write news or announcements",icon:S,onClick:()=>c("New Post"),color:"royal-blue",bgClass:"bg-royal-blue/10 group-hover:bg-royal-blue/20",iconClass:"text-royal-blue"},{title:"Upload Resource",description:"Add educational materials",icon:P,onClick:()=>c("Upload Resource"),color:"vegas-gold",bgClass:"bg-vegas-gold/10 group-hover:bg-vegas-gold/20",iconClass:"text-vegas-gold-dark"},{title:"Add Tool",description:"Add or scan EdTech tools",icon:L,onClick:()=>c("Add Tool"),color:"royal-blue",bgClass:"bg-royal-blue/10 group-hover:bg-royal-blue/20",iconClass:"text-royal-blue"},{title:"Add YouTube Channel",description:"Import educational videos",icon:R,onClick:()=>c("Add YouTube Channel"),color:"vegas-gold",bgClass:"bg-vegas-gold/10 group-hover:bg-vegas-gold/20",iconClass:"text-vegas-gold-dark"}];return e.jsxs(x,{className:"shadow-lg border-0",children:[e.jsxs(m,{className:"pb-4",children:[e.jsx(u,{className:"text-xl font-bold text-anthracite font-trajon",children:"Quick Actions"}),e.jsx("p",{className:"text-sm text-light-gray",children:"Create and manage content efficiently"})]}),e.jsx(h,{children:e.jsx("div",{className:"grid grid-cols-2 gap-4",children:o.map((l,r)=>e.jsxs("button",{onClick:l.onClick,className:"group p-6 bg-white rounded-xl shadow-sm hover:shadow-md transition-all text-center border border-gray-100 hover:border-gray-200",children:[e.jsx("div",{className:`p-3 rounded-lg mx-auto mb-3 transition-colors w-fit ${l.bgClass}`,children:e.jsx(l.icon,{className:`w-6 h-6 ${l.iconClass}`})}),e.jsx("h3",{className:"font-semibold text-anthracite mb-1",children:l.title}),e.jsx("p",{className:"text-xs text-light-gray",children:l.description})]},r))})})]})}function H(){const{data:a,isLoading:n}=y({queryKey:["/api/dashboard/recent-activity"]}),c=r=>{switch(r.toLowerCase()){case"create":case"created":return"fas fa-plus";case"update":case"updated":return"fas fa-edit";case"delete":case"deleted":return"fas fa-trash";default:return"fas fa-circle"}},o=r=>{switch(r.toLowerCase()){case"create":case"created":return"bg-primary/10 text-primary";case"update":case"updated":return"bg-green-100 text-green-600";case"delete":case"deleted":return"bg-red-100 text-red-600";default:return"bg-gray-100 text-gray-600"}},l=r=>{const t=r.entityType||"item";return`${r.action} ${t}${r.entityId?` #${r.entityId}`:""}`};return n?e.jsxs(x,{children:[e.jsxs(m,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(u,{children:"Recent Activity"}),e.jsx(d,{variant:"link",size:"sm",children:"View All"})]}),e.jsx(h,{children:e.jsx("div",{className:"space-y-4",children:[1,2,3].map(r=>e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(i,{className:"w-8 h-8 rounded-full"}),e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsx(i,{className:"h-4 w-full"}),e.jsx(i,{className:"h-3 w-20"})]})]},r))})})]}):e.jsxs(x,{children:[e.jsxs(m,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(u,{children:"Recent Activity"}),e.jsx(d,{variant:"link",size:"sm",children:"View All"})]}),e.jsx(h,{children:e.jsx("div",{className:"space-y-4",children:!a||a.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("p",{children:"No recent activity"}),e.jsx("p",{className:"text-sm",children:"Admin actions will appear here"})]}):a.map(r=>e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${o(r.action)}`,children:e.jsx("i",{className:`${c(r.action)} text-xs`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm text-gray-900",children:l(r)}),e.jsx("p",{className:"text-xs text-gray-500",children:r.createdAt&&!isNaN(new Date(r.createdAt).getTime())?w(new Date(r.createdAt),{addSuffix:!0}):"Unknown time"})]})]},r.id))})})]})}function W(){const[a,n]=D.useState(null),{toast:c}=N(),{data:o,isLoading:l}=y({queryKey:["/api/dashboard/recent-content"]}),r=s=>{switch(s){case"post":return"bg-green-100 text-green-600";case"resource":return"bg-primary/10 text-primary";case"tool":return"bg-orange-100 text-orange-600";default:return"bg-gray-100 text-gray-600"}},t=s=>{switch(s){case"post":return"fas fa-newspaper";case"resource":return"fas fa-file-alt";case"tool":return"fas fa-tools";default:return"fas fa-file"}},g=s=>{c({title:"Feature Coming Soon",description:`Edit ${s.type} functionality will be implemented in Phase 2`,variant:"default"})},j=s=>{c({title:"Feature Coming Soon",description:`Delete ${s.type} functionality will be implemented in Phase 2`,variant:"default"})},b=(o==null?void 0:o.filter(s=>a?s.type===a:!0))||[];return l?e.jsxs(x,{children:[e.jsx(m,{children:e.jsx(u,{children:"Recent Content"})}),e.jsx(h,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Title"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Created"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Views"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),e.jsx("tbody",{children:[1,2,3].map(s=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx(i,{className:"h-4 w-full"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx(i,{className:"h-6 w-16 rounded-full"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx(i,{className:"h-4 w-20"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx(i,{className:"h-4 w-12"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx(i,{className:"h-4 w-16"})})]},s))})]})})})]}):e.jsxs(x,{children:[e.jsxs(m,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(u,{children:"Recent Content"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(d,{variant:a===null?"default":"outline",size:"sm",onClick:()=>n(null),children:"All"}),e.jsx(d,{variant:a==="post"?"default":"outline",size:"sm",onClick:()=>n("post"),children:"Posts"}),e.jsx(d,{variant:a==="resource"?"default":"outline",size:"sm",onClick:()=>n("resource"),children:"Resources"}),e.jsx(d,{variant:a==="tool"?"default":"outline",size:"sm",onClick:()=>n("tool"),children:"Tools"})]})]}),e.jsx(h,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Views"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-6 py-8 text-center",children:e.jsxs("div",{className:"text-gray-500",children:[e.jsx(z,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("p",{children:"No content available"}),e.jsx("p",{className:"text-sm",children:"Content will appear here as it's created"})]})})}):b.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-8 w-8",children:e.jsx("div",{className:`h-8 w-8 rounded-lg flex items-center justify-center ${r(s.type)}`,children:e.jsx("i",{className:`${t(s.type)} text-sm`})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.title}),s.description&&e.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:s.description})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx(M,{variant:"secondary",className:r(s.type),children:s.type.charAt(0).toUpperCase()+s.type.slice(1)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(()=>{if(!s.createdAt)return"Unknown time";try{const p=new Date(s.createdAt);return isNaN(p.getTime())?"Unknown time":w(p,{addSuffix:!0})}catch(p){return console.warn("Date formatting error for createdAt:",s.createdAt,p),"Unknown time"}})()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.viewCount||0}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[e.jsx(d,{variant:"ghost",size:"sm",onClick:()=>g(s),className:"text-primary hover:text-blue-700 mr-2",children:e.jsx(U,{size:16})}),e.jsx(d,{variant:"ghost",size:"sm",onClick:()=>j(s),className:"text-gray-400 hover:text-gray-600",children:e.jsx(I,{size:16})})]})]},`${s.type}-${s.id}`))})]})})})]})}function Q(){return N(),e.jsxs("div",{className:"flex h-screen bg-gray-50",children:[e.jsx(E,{}),e.jsxs("main",{className:"flex-1 overflow-y-auto",children:[e.jsx(F,{title:"Dashboard Overview",breadcrumb:"Dashboard"}),e.jsxs("div",{className:"p-6",children:[e.jsx("section",{className:"mb-8",children:e.jsx("div",{className:"bg-gradient-to-r from-royal-blue to-royal-blue-dark text-white rounded-xl p-6 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Welcome to SMCHS Innovation Hub"}),e.jsx("p",{className:"text-white/90",children:"Manage educational resources and content for Santa Margarita Catholic High School"})]}),e.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-xl flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-2xl",children:"SM"})})]})})}),e.jsx(q,{}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsx(B,{}),e.jsx(H,{})]}),e.jsx(W,{})]})]})]})}export{Q as default};
